<div data-blacklight-modal="container">
  <div class="modal-header">
    <h1 class="modal-title"><%= t('geoblacklight.references.services')%></h1>
    <button type="button" class="blacklight-modal-close close" data-dismiss="modal" aria-label="<%= t('blacklight.modal.close') %>">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body web-services-modal-body">
    <div class="alert alert-info d-none" role="alert">
    <%= t('geoblacklight.clipboard.web_service') %>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="web-services-modal-entry">
      <%#= render Geoblacklight::WebServicesComponent.with_collection(@documents.first.references.refs, document: @documents.first) %>
      <%# @documents is empty, but @response has the Solr document.  action_documents is 
          described in https://github.com/projectblacklight/blacklight/blob/main/app/controllers/concerns/blacklight/catalog.rb#L117 .
          If we can figure out why that is not returning what we want, we can fix that and use the original line above
      %>
      <%= render Geoblacklight::WebServicesComponent.with_collection(@response.references.refs, document: @response) %>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default hide-without-js" data-dismiss="modal"><%= t('geoblacklight.references.services_close')%></button>
  </div>

  <script>
      $('[data-action="copyToClipboard"]').on('click', function() {
          let text = $(this).data('clipboard-value');       
          navigator.clipboard.writeText(text)
              .then(() => {
                  $('.alert').removeClass('d-none');
              })
      });
  </script>
</div>